{"version":3,"sources":["style/disableUserSelect.ts","style/menuContainer.ts","style/menuButton.ts","style/styledLink.ts","components/NavMenu.tsx","style/title.ts","helpers/barsAndBeats.ts","assets/drums/CR78/index.js","assets/drums/CR78/kick.mp3","assets/drums/CR78/snare.mp3","assets/drums/CR78/hihat.mp3","assets/drums/CR78/tom1.mp3","assets/drums/CR78/tom2.mp3","assets/drums/TR808/index.js","assets/drums/TR808/kick.wav","assets/drums/TR808/snare.wav","assets/drums/TR808/hihat.wav","assets/drums/TR808/hihatOpen.wav","assets/drums/TR808/tom.wav","instruments/samplers.js","context/helpers.ts","context/reducer.ts","utils.ts","context/GlobalState.tsx","style/flex.ts","style/slider.ts","components/GlobalTempoSlider.tsx","components/MasterVolumeSlider.tsx","style/button.ts","components/SaveOrLoadPattern.tsx","components/SelectDrumSampler.tsx","components/SettingsMenu.tsx","constants.ts","style/grid.tsx","style/gridItem.ts","components/TriggerPoint.tsx","instruments/synthesizers.ts","pages/GridGoon.tsx","pages/HomePage.tsx","components/ClearPatternControls.tsx","components/SelectDrumPattern.tsx","components/SelectDrumSound.tsx","components/BeatStep.tsx","components/StepSequencer.tsx","pages/RythmPage.tsx","style/appContainer.ts","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","style/globalStyle.ts","index.tsx"],"names":["disableUserSelect","css","hideScrollBar","flexCenter","Z_INDEX","MenuContainer","styled","div","forSettings","isOpen","fromRight","compose","position","space","layout","color","flexbox","defaultProps","flexDirection","maxWidth","paddingBottom","MenuButton","button","typography","marginY","marginX","padding","paddingX","fontSize","StyledLink","Link","m","fontWeight","NavMenu","useState","showMenu","setShowMenu","toggleMenu","onClick","bg","justifyContent","to","Title","h1","marginBottom","oneBarSixteenNote","reverse","CR78_URLS","C1","D1","E1","F1","G1","TR808_URLS","CR78","Sampler","urls","toDestination","name","TR808","SAMPLERS","getClearedDrumPatterns","drumPatterns","patterns","forEach","pattern","triggeredKicks","triggeredSnares","triggeredHiHats","triggeredOpenHiHats","triggeredToms","getClearedPatternsForDrumType","state","drumType","updatedPatterns","selectedDrumPattern","selectedDrumSound","getClearedDrumPattern","getUpdatedDrumPatterns","triggeredSteps","reducer","action","type","selectedSampler","payload","masterVolume","tempo","activeStep","loopPatterns","activeLoopPatterns","index","indexOf","splice","key","data","stringifiedData","JSON","stringify","localStorage","setItem","persistInLocalStorage","getItem","parse","Error","retrieveFromLocalStorage","clearedSounds","clearedPatterns","initialState","loopEnd","isLooping","steps","releaseInSeconds","store","createContext","dispatch","Provider","GlobalState","children","useReducer","Transport","bpm","value","loop","Destination","set","volume","useEffect","triggerAttackRelease","useGlobalState","useContext","Flex","hideScrollbar","border","display","alignItems","p","standardBorder","standardBorderRadius","thumbStyle","trackStyle","thumbHeigth","sliderStyle","StyledSlider","input","GlobalTempoSlider","id","aria-label","max","min","step","onChange","e","currentTarget","MasterVolumeSlider","margin","paddingY","width","Button","isSelected","isSelectedLoop","SaveOrLoadPattern","mx","SelectDrumSampler","handleSelection","sampler","SettingsMenu","showSettings","setShowSettings","right","numbers","Array","from","multiplier","keys","bebopLocrian","DRUM","Grid","grid","gridGap","maxHeight","GridItem","isTouched","TriggerPoint","voice","note","octave","setIsTouched","handleTouchStart","preventDefault","triggerAttack","Tone","handleTouchEnd","triggerRelease","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","basicSynth","Synth","envelope","attack","release","sustain","Oscillator","frequency","Noise","AmplitudeEnvelope","decay","GridGoon","height","heigth","map","number","length","HomePage","ClearPatternControls","SelectDrumPattern","includes","gridTemplateColumns","gridTemplateRows","SelectDrumSound","handleClick","borderRightWidth","borderColor","borderRightStyle","overflowX","BeatStep","StepSequencer","getPositionWithoutDecimals","toString","slice","loopIndex","RythmPage","scheduleRepeat","interval","time","Draw","schedule","a","stop","startTone","start","startRhythm","AppContainer","Routes","exact","path","top","bottom","left","App","basename","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","GlobalStyle","createGlobalStyle","normalize","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.61ee8052.chunk.js","sourcesContent":["import { css } from 'styled-components';\n\nexport const disableUserSelect = css`\n -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome and Opera */\n`;\n\nexport const hideScrollBar = css`\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;  /* IE and Edge */\n  scrollbar-width: none;  /* Firefox */\n`;\n","import styled, { css } from 'styled-components';\nimport {\n  color, compose, flexbox, layout, position, space,\n} from 'styled-system';\nimport { StyleProps } from './types';\n\nconst flexCenter = css`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Z_INDEX = {\n  NAV_MENU: 100,\n  NAV_MENU_BUTTON: 101,\n  SETTINGS_MENU: 200,\n  SETTINGS_MENU_BUTTON: 201,\n};\nexport const MenuContainer = styled.div<StyleProps & any>`\n  z-index: ${({ forSettings }) => (forSettings ? Z_INDEX.SETTINGS_MENU : Z_INDEX.NAV_MENU)};\n  transform: ${({ isOpen, fromRight }) => (isOpen ? '' : `translateX(${fromRight ? '' : '-'}100%)`)};\n  right: ${({ fromRight }) => (fromRight ? 0 : '')};\n  transition: transform 0.1s ease-in-out;\n  width: 100%;\n  height: 100%;\n  ${flexCenter}\n  ${compose(\n    position,\n    space,\n    layout,\n    color,\n    flexbox,\n  )};\n`;\nMenuContainer.defaultProps = {\n  position: 'fixed',\n  flexDirection: 'column',\n  maxWidth: ['100vw', '100vw', '100vw', '50vw'],\n  paddingBottom: [3, 4],\n};\n","import styled from 'styled-components';\nimport {\n  compose,\n  layout, position, space, typography,\n} from 'styled-system';\nimport { disableUserSelect } from './disableUserSelect';\nimport { Z_INDEX } from './menuContainer';\nimport { StyleProps } from './types';\n\nexport const MenuButton = styled.button<StyleProps & any>`\n  z-index: 10;\n  background-color: ${({ isOpen }) => (isOpen ? 'black' : 'white')};;\n  color: ${({ isOpen }) => (isOpen ? 'white' : 'black')};\n  border: 1px solid;\n  border-radius: 4px;\n  z-index: ${({ forSettings }) => (forSettings ? Z_INDEX.SETTINGS_MENU_BUTTON : Z_INDEX.NAV_MENU_BUTTON)};;\n  ${disableUserSelect};\n  ${compose(\n    position,\n    space,\n    typography,\n    layout,\n  )}\n`;\nMenuButton.defaultProps = {\n  position: 'fixed',\n  marginY: 3,\n  marginX: [3, 4, 6],\n  padding: [2],\n  paddingX: 3,\n  fontSize: 4,\n};\n","import { Link } from 'react-router-dom';\nimport styled, { DefaultTheme, ThemedStyledInterface } from 'styled-components';\nimport {\n  color, compose, space, typography,\n} from 'styled-system';\n\ntype StyledTypes = ThemedStyledInterface<DefaultTheme> & any;\nexport const StyledLink: StyledTypes = styled(Link)`\n    color: black;\n    transition: all 0.2s ease-in-out;\n    border-radius: 4px;\n    border: 1px solid;\n    &:focus, :hover {\n        transform: scale(1.2);\n        box-shadow: 0px 0px 30px 30px rgba(250,250,250, 0.4) inset, 0px 0px 20px 10px rgba(250, 250,250, 0.7);\n    };\n    ${compose(\n    space,\n    color,\n    typography,\n  )};\n`;\n\nStyledLink.defaultProps = {\n  padding: 5,\n  m: 3,\n  fontSize: [3],\n  fontWeight: 700,\n};\n","import { useState } from 'react';\nimport { MenuButton } from '../style/menuButton';\nimport { MenuContainer } from '../style/menuContainer';\nimport { StyledLink } from '../style/styledLink';\n\nexport function NavMenu() {\n  const [showMenu, setShowMenu] = useState<boolean>(false);\n\n  const toggleMenu = () => {\n    setShowMenu(!showMenu);\n  };\n  return (\n    <>\n      <MenuButton isOpen={showMenu} onClick={toggleMenu}>\n        {showMenu ? '𝗫' : 'O'}\n      </MenuButton>\n      <MenuContainer isOpen={showMenu} bg=\"white\" justifyContent=\"center\">\n        <StyledLink to=\"/rythm\" onClick={toggleMenu}>Drum Seq</StyledLink>\n        {/* <StyledLink to=\"/grid-goon\" onClick={toggleMenu}>Grid Goon</StyledLink> */}\n      </MenuContainer>\n    </>\n  );\n}\n","import styled from 'styled-components';\nimport {\n  compose, flexbox, layout, position, space, typography,\n} from 'styled-system';\nimport { StyleProps } from './types';\n\nexport const Title = styled.h1<StyleProps>`\n    ${compose(\n    space,\n    position,\n    layout,\n    flexbox,\n    typography,\n  )}\n`;\n\nTitle.defaultProps = {\n  marginBottom: 0,\n};\n","export const oneBarEightNote: string[] = [\n  '0:0:0',\n  '0:0:2',\n  '0:1:0',\n  '0:1:2',\n  '0:2:0',\n  '0:2:2',\n  '0:3:0',\n  '0:3:2',\n];\n\nexport const oneBarSixteenNote: string[] = [\n  '0:0:0',\n  '0:0:1',\n  '0:0:2',\n  '0:0:3',\n  '0:1:0',\n  '0:1:1',\n  '0:1:2',\n  '0:1:3',\n  '0:2:0',\n  '0:2:1',\n  '0:2:2',\n  '0:2:3',\n  '0:3:0',\n  '0:3:1',\n  '0:3:2',\n  '0:3:3',\n].reverse();\n","import kick from './kick.mp3';\nimport snare from './snare.mp3';\nimport hihat from './hihat.mp3';\nimport tom1 from './tom1.mp3';\nimport tom2 from './tom2.mp3';\n\nexport const CR78_URLS = {\n  C1: kick,\n  D1: snare,\n  E1: hihat,\n  F1: tom1,\n  G1: tom2,\n};\n","export default __webpack_public_path__ + \"static/media/kick.e8c4f08a.mp3\";","export default __webpack_public_path__ + \"static/media/snare.ebab59a2.mp3\";","export default __webpack_public_path__ + \"static/media/hihat.0dbc2e7a.mp3\";","export default __webpack_public_path__ + \"static/media/tom1.7e5272fb.mp3\";","export default __webpack_public_path__ + \"static/media/tom2.95a22fde.mp3\";","import kick from './kick.wav';\nimport snare from './snare.wav';\nimport hihat from './hihat.wav';\nimport hihatOpen from './hihatOpen.wav';\nimport tom from './tom.wav';\n\nexport const TR808_URLS = {\n  C1: kick,\n  D1: snare,\n  E1: hihat,\n  F1: hihatOpen,\n  G1: tom,\n};\n","export default __webpack_public_path__ + \"static/media/kick.5e338bd5.wav\";","export default __webpack_public_path__ + \"static/media/snare.d3f48900.wav\";","export default __webpack_public_path__ + \"static/media/hihat.64dc5aa4.wav\";","export default __webpack_public_path__ + \"static/media/hihatOpen.643cdeb7.wav\";","export default __webpack_public_path__ + \"static/media/tom.a23b661d.wav\";","/**\n * This file is .js cause .ts caused trouble when importing audio.\n */\nimport { Sampler } from 'tone';\nimport { CR78_URLS } from '../assets/drums/CR78';\nimport { TR808_URLS } from '../assets/drums/TR808';\n\nconst CR78 = new Sampler({\n  urls: CR78_URLS,\n}).toDestination();\nCR78.name = 'CR78';\n\nconst TR808 = new Sampler({\n  urls: TR808_URLS,\n}).toDestination();\nTR808.name = 'TR808';\n\nexport const SAMPLERS = {\n  CR78,\n  TR808,\n};\n","/* eslint-disable no-param-reassign */\nimport {\n  DrumType, IGlobalState, TriggeredSteps, TriggeredStepsObject,\n} from './types';\n\nexport function getClearedDrumPattern(selectedDrumSound: DrumType): { [index:string] : {}} {\n  switch (selectedDrumSound) {\n    case 'KICK':\n      return { triggeredKicks: {} };\n    case 'SNARE':\n      return { triggeredSnares: {} };\n    case 'HIHAT':\n      return { triggeredHiHats: {} };\n    case 'HIHAT_OPEN':\n      return { triggeredOpenHiHats: {} };\n    case 'TOM':\n      return { triggeredToms: {} };\n    default:\n      return { triggeredKicks: {} };\n  }\n}\n\nexport function getClearedDrumPatterns(\n  drumPatterns: TriggeredStepsObject[],\n): TriggeredStepsObject[] {\n  const patterns = [...drumPatterns];\n  patterns.forEach((pattern) => {\n    pattern.triggeredKicks = {};\n    pattern.triggeredSnares = {};\n    pattern.triggeredHiHats = {};\n    pattern.triggeredOpenHiHats = {};\n    pattern.triggeredToms = {};\n  });\n  return patterns;\n}\n\nexport function getClearedPatternsForDrumType(state: IGlobalState, drumType: DrumType) {\n  const updatedPatterns = [...state.drumPatterns];\n  updatedPatterns[state.selectedDrumPattern] = {\n    ...updatedPatterns[state.selectedDrumPattern],\n    ...getClearedDrumPattern(drumType),\n  };\n  return updatedPatterns;\n}\n\nexport function getUpdatedDrumPatterns(state: IGlobalState, triggeredSteps: TriggeredSteps) {\n  const patterns = [...state.drumPatterns];\n  switch (state.selectedDrumSound) {\n    case 'KICK':\n      patterns[state.selectedDrumPattern].triggeredKicks = triggeredSteps;\n      break;\n    case 'SNARE':\n      patterns[state.selectedDrumPattern].triggeredSnares = triggeredSteps;\n      break;\n    case 'HIHAT':\n      patterns[state.selectedDrumPattern].triggeredHiHats = triggeredSteps;\n      break;\n    case 'HIHAT_OPEN':\n      patterns[state.selectedDrumPattern].triggeredOpenHiHats = triggeredSteps;\n      break;\n    case 'TOM':\n      patterns[state.selectedDrumPattern].triggeredToms = triggeredSteps;\n      break;\n    default:\n      break;\n  }\n  return patterns;\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable no-param-reassign */\nimport { persistInLocalStorage, retrieveFromLocalStorage } from '../utils';\nimport { getClearedDrumPatterns, getClearedPatternsForDrumType, getUpdatedDrumPatterns } from './helpers';\nimport { Action, DrumPattern, IGlobalState } from './types';\n\nexport const reducer = (state: IGlobalState, action: Action): IGlobalState => {\n  switch (action.type) {\n    case 'SELECT_DRUM_PRESET':\n      return { ...state, selectedSampler: action.payload };\n    case 'SELECT_DRUM':\n      return { ...state, selectedDrumSound: action.payload };\n    case 'SELECT_DRUM_PATTERN':\n      return { ...state, selectedDrumPattern: action.payload };\n    case 'SET_MASTER_VOLUME':\n      return { ...state, masterVolume: action.payload };\n    case 'SET_TEMPO':\n      return { ...state, tempo: action.payload };\n    case 'SET_ACTIVE_STEP':\n      return { ...state, activeStep: action.payload };\n    case 'SET_TRIGGERED_KICKS':\n      return { ...state, drumPatterns: getUpdatedDrumPatterns(state, action.payload) };\n    case 'SET_TRIGGERED_SNARES':\n      return { ...state, drumPatterns: getUpdatedDrumPatterns(state, action.payload) };\n    case 'SET_TRIGGERED_HIHATS':\n      return { ...state, drumPatterns: getUpdatedDrumPatterns(state, action.payload) };\n    case 'SET_TRIGGERED_OPEN_HIHATS':\n      return { ...state, drumPatterns: getUpdatedDrumPatterns(state, action.payload) };\n    case 'SET_TRIGGERED_TOMS':\n      return { ...state, drumPatterns: getUpdatedDrumPatterns(state, action.payload) };\n    case 'TOGGLE_LOOP_PATTERNS':\n      return { ...state, loopPatterns: !state.loopPatterns };\n    case 'TOGGLE_LOOP_SELECTED_PATTERN':\n      const index = state.activeLoopPatterns.indexOf(action.payload);\n      let activeLoopPatterns: DrumPattern[];\n      if (index === -1) {\n        activeLoopPatterns = [...state.activeLoopPatterns, action.payload];\n      } else {\n        activeLoopPatterns = [...state.activeLoopPatterns];\n        activeLoopPatterns.splice(index, 1);\n      }\n      return { ...state, activeLoopPatterns };\n    case 'CLEAR_ALL':\n      return { ...state, drumPatterns: getClearedDrumPatterns(state.drumPatterns) };\n    case 'CLEAR_PATTERN':\n      return { ...state, drumPatterns: getClearedPatternsForDrumType(state, action.payload) };\n    case 'SAVE_PATTERN':\n      persistInLocalStorage(action.payload, { ...state, selectedSampler: null });\n      return state;\n    case 'LOAD_PATTERN':\n      return {\n        ...retrieveFromLocalStorage(action.payload),\n        selectedSampler: state.selectedSampler,\n      };\n    default:\n      return state;\n  }\n};\n","import { IGlobalState } from './context/types';\n\nexport function persistInLocalStorage(key: string, data: any) {\n  const stringifiedData = JSON.stringify(data, null, 2);\n  localStorage.setItem(key, stringifiedData);\n}\n\nexport function retrieveFromLocalStorage(key: string): IGlobalState {\n  let data;\n  if (key) {\n    data = localStorage.getItem(key);\n    if (data) {\n      return JSON.parse(data);\n    }\n  }\n  throw new Error(`${key} is ${data}`);\n}\n","// store.js\nimport {\n  createContext, ReactNode, useContext, useEffect, useReducer,\n} from 'react';\nimport { Destination, Transport } from 'tone';\nimport { oneBarSixteenNote } from '../helpers/barsAndBeats';\nimport { SAMPLERS } from '../instruments/samplers';\nimport {\n  reducer,\n} from './reducer';\nimport { Context, IGlobalState, TriggeredStepsObject } from './types';\n\nexport const clearedSounds: TriggeredStepsObject = {\n  triggeredKicks: {},\n  triggeredSnares: {},\n  triggeredHiHats: {},\n  triggeredOpenHiHats: {},\n  triggeredToms: {},\n};\n\nexport const clearedPatterns: TriggeredStepsObject[] = [\n  { ...clearedSounds },\n  { ...clearedSounds },\n  { ...clearedSounds },\n  { ...clearedSounds },\n  { ...clearedSounds },\n  { ...clearedSounds },\n  { ...clearedSounds },\n  { ...clearedSounds },\n];\nconst initialState: IGlobalState = {\n  tempo: 120,\n  masterVolume: 0,\n  loopEnd: '1:0:0',\n  isLooping: true,\n  steps: oneBarSixteenNote,\n  activeStep: '',\n  selectedSampler: SAMPLERS.CR78,\n  selectedDrumSound: 'KICK',\n  selectedDrumPattern: 0,\n  activeLoopPatterns: [0, 1, 2, 3],\n  loopPatterns: true,\n  drumPatterns: clearedPatterns,\n  releaseInSeconds: 0.03,\n};\n\nconst store = createContext<Context>({ state: initialState, dispatch: () => {} });\nconst { Provider } = store;\n\nconst GlobalState = ({ children }: {children: ReactNode}) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    // eslint-disable-next-line no-unused-vars\n    drumPatterns, selectedDrumPattern, activeStep, selectedSampler,\n  } = state;\n  Transport.bpm.value = state.tempo;\n  Transport.loop = state.isLooping;\n  Transport.loopEnd = state.loopEnd;\n\n  Destination.set({ volume: state.masterVolume });\n\n  useEffect(() => {\n    if (drumPatterns[selectedDrumPattern].triggeredKicks[activeStep]) {\n      selectedSampler.triggerAttackRelease('C1', 0.5);\n    }\n    if (drumPatterns[selectedDrumPattern].triggeredSnares[activeStep]) {\n      selectedSampler.triggerAttackRelease('D1', 0.5);\n    }\n    if (drumPatterns[selectedDrumPattern].triggeredHiHats[activeStep]) {\n      selectedSampler.triggerAttackRelease('E1', 0.5);\n    }\n    if (drumPatterns[selectedDrumPattern].triggeredOpenHiHats[activeStep]) {\n      selectedSampler.triggerAttackRelease('F1', 0.5);\n    }\n    if (drumPatterns[selectedDrumPattern].triggeredToms[activeStep]) {\n      selectedSampler.triggerAttackRelease('G1', 0.5);\n    }\n  }, [activeStep]);\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nconst useGlobalState = () => useContext(store);\n\nexport { useGlobalState, GlobalState };\n","import styled from 'styled-components';\nimport {\n  border,\n  color, flexbox, layout, position, space,\n} from 'styled-system';\nimport { hideScrollBar } from './disableUserSelect';\nimport { StyleProps } from './types';\n\nexport const Flex = styled.div<StyleProps & any>`\n  ${({ hideScrollbar }) => (hideScrollbar ? hideScrollBar : '')}\n  ${space};\n  ${layout};\n  ${flexbox};\n  ${color};\n  ${position};\n  ${border};\n`;\n\nFlex.defaultProps = {\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  p: 1,\n};\n","import styled, { css } from 'styled-components';\nimport { layout, space } from 'styled-system';\nimport { StyleProps } from './types';\n\nconst devider = 5;\nconst thumbHeigth = 24;\nconst trackHeight = thumbHeigth / devider;\nconst offsetY = 50 - 50 / devider;\n\nconst standardBorder = css`\n    border: 1px solid black;\n`;\nconst standardBorderRadius = css`\n    border-radius: 4px;\n`;\nconst thumbStyle = css`\n    ${standardBorder}\n    border-radius: 50%;\n    width: ${thumbHeigth}px;\n    height: ${thumbHeigth}px;\n    transform: translateY(${-offsetY}%);\n    background: white;\n`;\nconst trackStyle = css`\n    background: black;\n    ${standardBorderRadius}\n    height: ${trackHeight}px;\n`;\nconst sliderStyle = css`\n    &::-webkit-slider-runnable-track {\n        ${trackStyle};\n    }\n    &::-moz-range-track {\n        ${trackStyle};\n    }\n    &::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        ${thumbStyle}\n    }\n    &::-moz-range-thumb {\n        ${thumbStyle}\n    }\n    &:focus {\n        outline: none;\n    }\n`;\nexport const StyledSlider = styled.input<StyleProps>`\n    ${standardBorderRadius}    \n    ${standardBorder}\n    ${sliderStyle};\n    ${space};\n    ${layout};\n`;\nStyledSlider.defaultProps = {\n  margin: 2,\n  paddingX: 3,\n  paddingY: 3,\n  width: '100vw',\n  maxWidth: 400,\n};\n","import { useGlobalState } from '../context/GlobalState';\nimport { Flex } from '../style/flex';\nimport { StyledSlider } from '../style/slider';\n\nexport function GlobalTempoSlider() {\n  const { state, dispatch } = useGlobalState();\n  return (\n    <Flex>\n      {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n      <label>Tempo</label>\n      <StyledSlider\n        id=\"tempo\"\n        aria-label=\"Tempo\"\n        type=\"range\"\n        max={250}\n        min={1}\n        step={1}\n        value={state.tempo}\n        onChange={(e: any) => dispatch({\n          type: 'SET_TEMPO',\n          payload: e.currentTarget.value,\n        })}\n      />\n    </Flex>\n  );\n}\n","import { useGlobalState } from '../context/GlobalState';\nimport { Flex } from '../style/flex';\nimport { StyledSlider } from '../style/slider';\n\nexport function MasterVolumeSlider() {\n  const { state, dispatch } = useGlobalState();\n  return (\n    <Flex>\n      {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n      <label>Volume</label>\n      <StyledSlider\n        id=\"master-volume\"\n        aria-label=\"master-volume\"\n        type=\"range\"\n        max={20}\n        min={-80}\n        step={0.1}\n        value={state.masterVolume}\n        onChange={(e: any) => dispatch({\n          type: 'SET_MASTER_VOLUME',\n          payload: e.currentTarget.value,\n        })}\n      />\n    </Flex>\n  );\n}\n","import styled from 'styled-components';\nimport {\n  layout, position, space, typography,\n} from 'styled-system';\nimport { disableUserSelect } from './disableUserSelect';\nimport { StyleProps } from './types';\n\ntype Props = {\n  isSelected?: boolean;\n  isSelectedLoop?: boolean;\n}\nexport const Button = styled.button<StyleProps & Props>`\n  border: 1px solid;\n  border-radius: 4px;\n  font-weight: \"200\";\n  white-space: nowrap;\n  color: ${({ isSelected }) => (isSelected ? 'white' : 'black')};\n  background-color: ${({ isSelected }) => (isSelected ? 'black' : 'white')};\n  transform: ${({ isSelected }) => (isSelected ? 'scale(1.15)' : '')};\n  transition: transform 0.25s ease-out, background-color 0.05s ease-in;\n  outline: ${({ isSelectedLoop }) => (isSelectedLoop ? 'solid 2px green' : '')};\n  ${disableUserSelect};\n  ${position};\n  ${space};\n  ${typography};\n  ${layout};\n`;\nButton.defaultProps = {\n  marginY: 3,\n  mx: 2,\n  padding: [2],\n  paddingX: 3,\n  fontSize: 3,\n  type: 'button',\n};\n","import { useGlobalState } from '../context/GlobalState';\nimport { Button } from '../style/button';\nimport { Flex } from '../style/flex';\n\nexport function SaveOrLoadPattern() {\n  const { dispatch } = useGlobalState();\n  return (\n    <Flex>\n      <Button onClick={() => dispatch({ type: 'SAVE_PATTERN', payload: 'test-kit-2' })}>\n        SAVE\n      </Button>\n      <Button onClick={() => dispatch({ type: 'LOAD_PATTERN', payload: 'test-kit-2' })}>\n        LOAD\n      </Button>\n    </Flex>\n  );\n}\n","import { Sampler } from 'tone';\nimport { useGlobalState } from '../context/GlobalState';\nimport { SAMPLERS } from '../instruments/samplers';\nimport { Button } from '../style/button';\nimport { Flex } from '../style/flex';\nimport { Title } from '../style/title';\n\nconst { TR808, CR78 } = SAMPLERS;\n\nexport function SelectDrumSampler() {\n  const { state, dispatch } = useGlobalState();\n  const { selectedSampler } = state;\n  const handleSelection = (sampler :Sampler) => {\n    dispatch({\n      type: 'SELECT_DRUM_PRESET',\n      payload: sampler,\n    });\n  };\n\n  return (\n    <Flex>\n      <Title fontSize={3} fontWeight={500}>\n        Select sampler\n      </Title>\n      <Flex flexDirection=\"row\">\n        <Button isSelected={selectedSampler.name === 'TR808'} onClick={() => handleSelection(TR808)}>\n          TR808\n        </Button>\n        <Button isSelected={state.selectedSampler.name === 'CR78'} onClick={() => handleSelection(CR78)}>\n          CR78\n        </Button>\n      </Flex>\n    </Flex>\n  );\n}\n","import { useState } from 'react';\nimport { MenuButton } from '../style/menuButton';\nimport { MenuContainer } from '../style/menuContainer';\nimport { Title } from '../style/title';\nimport { GlobalTempoSlider } from './GlobalTempoSlider';\nimport { MasterVolumeSlider } from './MasterVolumeSlider';\nimport { SaveOrLoadPattern } from './SaveOrLoadPattern';\nimport { SelectDrumSampler } from './SelectDrumSampler';\n\nexport function SettingsMenu() {\n  const [showSettings, setShowSettings] = useState<boolean>(false);\n\n  const toggleMenu = () => {\n    setShowSettings(!showSettings);\n  };\n  return (\n    <>\n      <MenuButton forSettings right={0} isOpen={showSettings} onClick={toggleMenu}>\n        {showSettings ? '𝗫' : '|||'}\n      </MenuButton>\n      <MenuContainer forSettings fromRight isOpen={showSettings} bg=\"white\" justifyContent=\"space-between\">\n        <Title>Settings</Title>\n        <SelectDrumSampler />\n        <GlobalTempoSlider />\n        <MasterVolumeSlider />\n        <SaveOrLoadPattern />\n      </MenuContainer>\n    </>\n  );\n}\n","export const multiplier = 4;\nexport const numbers = Array.from(Array(multiplier * multiplier).keys());\n\n// create a synth and connect it to the main output (your speakers)\nexport const bebopLocrian = ['C', 'Db', 'Eb', 'F', 'Gb', 'G', 'Ab', 'Bb'].reverse();\n\nexport const DRUM = {\n  KICK: 'KICK',\n  SNARE: 'SNARE',\n  HIHAT: 'HIHAT',\n  HIHAT_OPEN: 'HIHAT_OPEN',\n  TOM: 'TOM',\n};\n\nexport const SYNTH = {\n  SQUARE: 'SQURE',\n  SINE: 'SINE',\n  SAW: 'SAW',\n};\n","import styled from 'styled-components';\nimport {\n  color,\n  compose, flexbox, grid, layout,\n} from 'styled-system';\nimport { StyleProps } from './types';\nimport { multiplier } from '../constants';\n\nexport const Grid = styled.div<StyleProps & any>`\n    display: grid;\n    direction: ${({ reverse }) => (reverse ? 'rtl' : '')};\n    grid-template-columns: repeat(${multiplier}, 1fr);\n    grid-template-rows: repeat(${multiplier}, 1fr);\n    ${compose(\n    flexbox,\n    layout,\n    grid,\n    color,\n  )}\n`;\nGrid.defaultProps = {\n  padding: [2, 4],\n  gridGap: '5px',\n  maxHeight: ['100vh', '70vh'],\n  maxWidth: ['100vh', '70vh'],\n  width: '100%',\n};\n","import styled from 'styled-components';\nimport { color } from 'styled-system';\nimport { StyleProps } from './types';\nimport { disableUserSelect } from './disableUserSelect';\n\nexport const GridItem = styled.button<StyleProps & any>`\n    height: 100%;\n    transition: all 0.15s;\n    border: 1px solid;\n    background-color: ${({ isTouched }) => (isTouched ? 'black' : 'transparent')};\n    border-radius: ${({ isTouched }) => (isTouched ? '50%' : '5%')};\n    ${disableUserSelect};\n    ${color}\n`;\n","import { useState } from 'react';\nimport * as Tone from 'tone';\nimport { Synth, SynthOptions } from 'tone';\nimport { GridItem } from '../style/gridItem';\n\ninterface Props {\n  voice: Synth<SynthOptions>;\n  note: string;\n  octave: string;\n}\n\nexport default function TriggerPoint({ voice, note, octave }: Props) {\n  const [isTouched, setIsTouched] = useState<boolean>(false);\n\n  const handleTouchStart = (e: any) => {\n    e.preventDefault();\n    setIsTouched(true);\n    voice.triggerAttack(note + octave, Tone.now());\n  };\n\n  const handleTouchEnd = (e: any) => {\n    e.preventDefault();\n    setIsTouched(false);\n    voice.triggerRelease(Tone.now());\n  };\n\n  return (\n    <GridItem\n      isTouched={isTouched}\n      onMouseDown={handleTouchStart}\n      onMouseUp={handleTouchEnd}\n      onTouchStart={handleTouchStart}\n      onTouchEnd={handleTouchEnd}\n    >\n      {note + octave}\n    </GridItem>\n  );\n}\n","import {\n  AmplitudeEnvelope, Noise, Oscillator, Synth,\n} from 'tone';\n\nexport const basicSynth = new Synth({\n  volume: -10,\n  envelope: {\n    attack: 0.01,\n    release: 0.2,\n    sustain: 0.5,\n  },\n}).toDestination();\n\nexport const sineOsc = new Oscillator({ frequency: 60, type: 'triangle9' });\nexport const noiseOsc = new Noise({ type: 'white', volume: -10 });\n\nexport const sineEnvSettings: object = {\n  attack: 0.01,\n  decay: 0.3,\n  sustain: 0.5,\n  release: 0.5,\n};\nexport const noiseEnvSettings = {\n  attack: 0.01,\n  decay: 0.2,\n  sustain: 1,\n  release: 0.01,\n};\n\nexport const sineAmpEnv = new AmplitudeEnvelope(sineEnvSettings).toDestination();\nexport const noiseAmpEnv = new AmplitudeEnvelope(noiseEnvSettings).toDestination();\n","import { Flex } from '../style/flex';\nimport { Grid } from '../style/grid';\nimport TriggerPoint from '../components/TriggerPoint';\nimport { bebopLocrian, numbers } from '../constants';\nimport { basicSynth } from '../instruments/synthesizers';\n\nexport default function GridGoon() {\n  return (\n    <Flex height=\"100%\">\n      <Grid heigth=\"100vw\">\n        {\n          numbers.map((number) => {\n            let octave: string = '3';\n            let note = bebopLocrian[number];\n            if (number > 7) {\n              note = bebopLocrian[number - bebopLocrian.length];\n              octave = '2';\n            }\n            return (\n              <TriggerPoint voice={basicSynth} note={note} octave={octave} />\n            );\n          })\n        }\n      </Grid>\n    </Flex>\n  );\n}\n","import { Flex } from '../style/flex';\nimport { StyledLink } from '../style/styledLink';\n\nexport default function HomePage() {\n  return (\n    <Flex height=\"100%\">\n      {/* <StyledLink to=\"grid-goon\">Grid Goon</StyledLink> */}\n      <StyledLink to=\"rythm\">Drum Seq</StyledLink>\n    </Flex>\n  );\n}\n","import { useGlobalState } from '../context/GlobalState';\nimport { Button } from '../style/button';\nimport { Flex } from '../style/flex';\n\nexport function ClearPatternControls() {\n  const { state, dispatch } = useGlobalState();\n  return (\n    <Flex flexDirection=\"row\">\n      <Button\n        type=\"button\"\n        onClick={() => dispatch({\n          type: 'CLEAR_ALL', payload: null,\n        })}\n      >\n        CLEAR ALL\n      </Button>\n      <Button\n        type=\"button\"\n        onClick={() => dispatch({\n          type: 'CLEAR_PATTERN',\n          payload: state.selectedDrumSound,\n        })}\n      >\n        CLEAR SELECTED\n      </Button>\n    </Flex>\n  );\n}\n","import { useGlobalState } from '../context/GlobalState';\nimport { DrumPattern } from '../context/types';\nimport { Button } from '../style/button';\nimport { Grid } from '../style/grid';\n\nexport function SelectDrumPattern() {\n  const { state, dispatch } = useGlobalState();\n\n  const handleSelection = (pattern: DrumPattern) => {\n    dispatch({ type: 'SELECT_DRUM_PATTERN', payload: pattern });\n    if (state.selectedDrumPattern === pattern) {\n      dispatch({ type: 'TOGGLE_LOOP_SELECTED_PATTERN', payload: pattern });\n    }\n  };\n\n  const isSelected = (pattern: DrumPattern) => pattern === state.selectedDrumPattern;\n  const isSelectedLoop = (pattern: DrumPattern) => state.activeLoopPatterns.includes(pattern)\n    && state.loopPatterns;\n\n  const drumPatterns: DrumPattern[] = [0, 1, 2, 3, 4, 5, 6, 7];\n  return (\n    <Grid gridTemplateColumns={['repeat(4, 1fr)', 'repeat(8, 1fr)']} gridTemplateRows=\"1fr\" gridGap=\"0\">\n      {drumPatterns.map((pattern) => (\n        <Button\n          key={pattern}\n          isSelectedLoop={isSelectedLoop(pattern)}\n          isSelected={isSelected(pattern)}\n          onClick={() => handleSelection(pattern)}\n        >\n          {pattern + 1}\n        </Button>\n      ))}\n    </Grid>\n  );\n}\n","import { DRUM } from '../constants';\nimport { useGlobalState } from '../context/GlobalState';\nimport { Button } from '../style/button';\nimport { Flex } from '../style/flex';\n\nexport function SelectDrumSound() {\n  const { state, dispatch } = useGlobalState();\n\n  const handleClick = (e: any) => dispatch({\n    type: 'SELECT_DRUM',\n    payload: e.currentTarget.name,\n  });\n\n  const isSelected = (name: string): boolean => state.selectedDrumSound === name;\n  return (\n    <header>\n      <Flex hideScrollbar borderRightWidth={8} borderColor=\"transparent\" borderRightStyle=\"solid\" p=\"0\" maxWidth=\"100vw\" flexDirection=\"row\" overflowX=\"scroll\" justifyContent=\"space-between\">\n        <Button\n          isSelected={isSelected(DRUM.KICK)}\n          name={DRUM.KICK}\n          onClick={handleClick}\n        >\n          Kick\n        </Button>\n        <Button\n          isSelected={isSelected(DRUM.SNARE)}\n          name={DRUM.SNARE}\n          onClick={handleClick}\n        >\n          Snare\n        </Button>\n        <Button\n          isSelected={isSelected(DRUM.HIHAT)}\n          name={DRUM.HIHAT}\n          onClick={handleClick}\n        >\n          Hi-Closed\n        </Button>\n        <Button\n          isSelected={isSelected(DRUM.HIHAT_OPEN)}\n          name={DRUM.HIHAT_OPEN}\n          onClick={handleClick}\n        >\n          Hi-Open\n        </Button>\n        <Button\n          isSelected={isSelected(DRUM.TOM)}\n          name={DRUM.TOM}\n          onClick={handleClick}\n        >\n          TomTom\n        </Button>\n      </Flex>\n    </header>\n  );\n}\n","import { DRUM } from '../constants';\nimport { useGlobalState } from '../context/GlobalState';\nimport { TriggeredSteps, Action } from '../context/types';\n\nimport { GridItem } from '../style/gridItem';\n\nexport default function BeatStep({ step }: {step: string}) {\n  const { state, dispatch } = useGlobalState();\n  const {\n    activeStep, selectedDrumSound,\n    drumPatterns, selectedDrumPattern,\n  } = state;\n  const {\n    triggeredKicks, triggeredSnares,\n    triggeredHiHats, triggeredOpenHiHats, triggeredToms,\n  } = drumPatterns[selectedDrumPattern];\n\n  let triggeredSteps: TriggeredSteps;\n  let action: Action;\n  switch (selectedDrumSound) {\n    case 'KICK':\n      triggeredSteps = triggeredKicks;\n      action = {\n        type: 'SET_TRIGGERED_KICKS',\n        payload: { ...triggeredKicks, [step]: !triggeredKicks[step] },\n      };\n      break;\n    case DRUM.SNARE:\n      triggeredSteps = triggeredSnares;\n      action = {\n        type: 'SET_TRIGGERED_SNARES',\n        payload: { ...triggeredSnares, [step]: !triggeredSnares[step] },\n      };\n      break;\n    case DRUM.HIHAT:\n      triggeredSteps = triggeredHiHats;\n      action = {\n        type: 'SET_TRIGGERED_HIHATS',\n        payload: { ...triggeredHiHats, [step]: !triggeredHiHats[step] },\n      };\n      break;\n    case DRUM.HIHAT_OPEN:\n      triggeredSteps = triggeredOpenHiHats;\n      action = {\n        type: 'SET_TRIGGERED_OPEN_HIHATS',\n        payload: { ...triggeredOpenHiHats, [step]: !triggeredOpenHiHats[step] },\n      };\n      break;\n    case DRUM.TOM:\n      triggeredSteps = triggeredToms;\n      action = {\n        type: 'SET_TRIGGERED_TOMS',\n        payload: { ...triggeredToms, [step]: !triggeredToms[step] },\n      };\n      break;\n    default:\n      triggeredSteps = triggeredKicks;\n      break;\n  }\n  const toggleStep = () => {\n    dispatch(action);\n  };\n\n  return (\n    <GridItem\n      onClick={toggleStep}\n      isTouched={activeStep === step}\n      bg={triggeredSteps[step] ? 'salmon' : ''}\n    >\n      { step }\n    </GridItem>\n  );\n}\n","import { useGlobalState } from '../context/GlobalState';\nimport { Grid } from '../style/grid';\nimport BeatStep from './BeatStep';\n\nexport default function StepSequencer() {\n  // eslint-disable-next-line no-unused-vars\n  const { state } = useGlobalState();\n\n  return (\n\n    <Grid reverse height=\"100vw\">\n      { state.steps.map((step: string) => (\n        <BeatStep\n          key={step}\n          step={step}\n        />\n      )) }\n    </Grid>\n\n  );\n}\n","/* eslint-disable no-unused-expressions */\n/* eslint-disable no-plusplus */\nimport { Draw, start as startTone, Transport } from 'tone';\nimport { ClearPatternControls } from '../components/ClearPatternControls';\nimport { SelectDrumPattern } from '../components/SelectDrumPattern';\nimport { SelectDrumSound } from '../components/SelectDrumSound';\nimport StepSequencer from '../components/StepSequencer';\nimport { useGlobalState } from '../context/GlobalState';\nimport { Button } from '../style/button';\nimport { Flex } from '../style/flex';\nimport { Title } from '../style/title';\n\nfunction getPositionWithoutDecimals() {\n  const position = Transport.position.toString();\n  return position.slice(0, position.indexOf('.'));\n}\n\nlet loopIndex = 0;\nexport default function RythmPage() {\n  const { state, dispatch } = useGlobalState();\n  const handleLoopClick = () => dispatch({ type: 'TOGGLE_LOOP_PATTERNS' });\n\n  function scheduleRepeat(interval = '16n') {\n    Transport.scheduleRepeat((time) => {\n      const position = getPositionWithoutDecimals();\n      Draw.schedule(() => {\n        dispatch({ type: 'SET_ACTIVE_STEP', payload: position });\n        if (position === '0:3:3' && state.loopPatterns) {\n          loopIndex === state.activeLoopPatterns.length - 1 ? loopIndex = 0 : loopIndex++;\n\n          const payload = state.activeLoopPatterns[loopIndex];\n\n          dispatch({ type: 'SELECT_DRUM_PATTERN', payload });\n        }\n      }, time);\n    }, interval);\n  }\n\n  async function startRhythm() {\n    if (Transport.state === 'started') {\n      return Transport.stop();\n    }\n\n    await startTone();\n\n    scheduleRepeat();\n\n    return Transport.start();\n  }\n\n  return (\n    <Flex>\n      <Title>Bungi</Title>\n      <ClearPatternControls />\n      <Flex flexDirection=\"row\">\n        <Button marginY={0} onClick={() => startRhythm()}>\n          {Transport.state !== 'started' ? 'Play' : 'Stop'}\n        </Button>\n        <Button isSelected={state.loopPatterns} marginY={0} onClick={handleLoopClick}>♾</Button>\n      </Flex>\n      <SelectDrumSound />\n      <SelectDrumPattern />\n      <StepSequencer />\n    </Flex>\n  );\n}\n","import styled from 'styled-components';\nimport { position } from 'styled-system';\nimport { StyleProps } from './types';\n\nexport const AppContainer = styled.div<StyleProps>`\n  overflow-x: hidden;\n  ${position}\n`;\nAppContainer.defaultProps = {\n  position: 'absolute',\n  top: 0,\n  bottom: 0,\n  right: 0,\n  left: 0,\n};\n","/* eslint-disable import/extensions */\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { NavMenu } from './components/NavMenu';\nimport { SettingsMenu } from './components/SettingsMenu';\nimport GridGoon from './pages/GridGoon';\nimport HomePage from './pages/HomePage';\nimport RythmPage from './pages/RythmPage';\nimport { AppContainer } from './style/appContainer';\n\nfunction Routes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <HomePage />\n      </Route>\n      <Route path=\"/rythm\">\n        <RythmPage />\n      </Route>\n      <Route path=\"/grid-goon\">\n        <GridGoon />\n      </Route>\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <BrowserRouter basename=\"/bungi-machine\">\n      <AppContainer>\n        <NavMenu />\n        <SettingsMenu />\n        <Routes />\n      </AppContainer>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","/* eslint-disable */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","/* eslint-disable */\nimport { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createGlobalStyle } from 'styled-components';\nimport { normalize } from 'styled-normalize';\n\nexport const GlobalStyle = createGlobalStyle`\n ${normalize}\n  :root,\n  html,\n  body {\n    margin: 0;\n    font-family: Arial;\n  }\n\n  * {\n      box-sizing: border-box;\n      -webkit-appearance: none;\n      text-decoration: none;\n\n  }\n\n  button {\n    background-color: transparent;\n  }\n`;\n","import { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport { GlobalStyle } from './style/globalStyle';\nimport { GlobalState } from './context/GlobalState';\n\nReactDOM.render(\n  <StrictMode>\n    <GlobalState>\n      <GlobalStyle />\n      <App />\n    </GlobalState>\n  </StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}