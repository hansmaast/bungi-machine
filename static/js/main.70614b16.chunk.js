(this.webpackJsonpbungi=this.webpackJsonpbungi||[]).push([[0],{87:function(e,n,t){"use strict";t.r(n);var r,o,c,i,a=t(13),s=t(57),l=t.n(s),d=t(26),u=t(51),b=t(17),p=Array.from(Array(16).keys()),f=["C","Db","Eb","F","Gb","G","Ab","Bb"].reverse(),h="KICK",j="SNARE",g="HIHAT",O="HIHAT_OPEN",x="TOM",v=["0:0:0","0:0:1","0:0:2","0:0:3","0:1:0","0:1:1","0:1:2","0:1:3","0:2:0","0:2:1","0:2:2","0:2:3","0:3:0","0:3:1","0:3:2","0:3:3"].reverse(),m=t(9),w="SELECT_DRUM",S="SELECT_SYNTH",y="SET_TEMPO",k="SET_ACTIVE_STEP",E="SET_TRIGGERED_STEPS",C=function(e,n){switch(n.type){case w:return Object(m.a)(Object(m.a)({},e),{},{selectedDrumSound:n.payload});case S:return Object(m.a)(Object(m.a)({},e),{},{selectedSynthSound:n.payload});case y:return Object(m.a)(Object(m.a)({},e),{},{tempo:n.payload});case k:return Object(m.a)(Object(m.a)({},e),{},{activeStep:n.payload});case E:return Object(m.a)(Object(m.a)({},e),{},{triggeredSteps:n.payload});default:return e}},T=t(27),P=new T.e({volume:-10,envelope:{attack:.01,release:.2,sustain:.5}}).toDestination(),D=new T.d({frequency:60,type:"triangle9"}),R=(new T.c({type:"white",volume:-10}),new T.a({attack:.01,decay:.3,sustain:.5,release:.5}).toDestination()),I=(new T.a({attack:.01,decay:.2,sustain:1,release:.01}).toDestination(),t(14)),A={tempo:125,loopEnd:"1:0:0",isLooping:!0,note:"",steps:v,activeStep:null,selectedDrumSound:h,selectedSynthSound:"SQURE",triggeredSteps:{},releaseInSeconds:.03},W=Object(a.createContext)(A),H=W.Provider,G=function(e){var n=e.children,t=Object(a.useReducer)(C,A),r=Object(b.a)(t,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){o.triggeredSteps[o.activeStep]&&(D.connect(R).start(),R.triggerAttackRelease(o.releaseInSeconds))}),[o.activeStep,o.triggeredSteps]),Object(I.jsx)(H,{value:{state:o,dispatch:c},children:n})},L=function(){return Object(a.useContext)(W)},z=t(28),F=t(25),_=t(22),M=Object(F.css)(r||(r=Object(z.a)(["\n -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome and Opera */\n"]))),X=Object(F.css)(o||(o=Object(z.a)(["\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;  /* IE and Edge */\n  scrollbar-width: none;  /* Firefox */\n"]))),N=F.default.button(c||(c=Object(z.a)(["\n  z-index: 10;\n  background-color: ",";;\n  color: ",";\n  border: 1px solid;\n  border-radius: 4px;\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isOpen?"black":"white"}),(function(e){return e.isOpen?"white":"black"}),M,_.e,_.f,_.g,_.d);N.defaultProps={position:"fixed",top:0,left:0,marginY:3,marginX:[3,4,6],padding:[2],paddingX:3,fontSize:4};var U,B=F.default.div(i||(i=Object(z.a)(["\n transform: ",";\n  background-color: black;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  transition: transform 0.1s ease-in-out;\n ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isOpen?"":"translateX(-100%)"}),_.e,_.f,_.d,_.b,_.c);B.defaultProps={position:"absolute",top:0,bottom:0,maxWidth:["100vw","50vw"]};var K,Y=Object(F.default)(u.b)(U||(U=Object(z.a)(["\n    background-color: black;\n    color: whitesmoke;\n    transition: all 0.2s ease-in-out;\n    &:focus, :hover {\n        transform: scale(1.2);\n        box-shadow: 0px 0px 30px 30px rgba(250,250,250, 0.4) inset, 0px 0px 20px 10px rgba(250, 250,250, 0.7);\n    };\n    ",";\n    ",";\n"])),_.f,_.b);function q(){var e=L().dispatch,n=Object(a.useState)(!1),t=Object(b.a)(n,2),r=t[0],o=t[1],c=Object(a.useState)(!1),i=Object(b.a)(c,2),s=i[0],l=i[1],d=function(){e({type:k,payload:"YES"}),o(!r)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(N,{isOpen:r,onClick:d,children:r?"X":"O"}),Object(I.jsxs)(B,{isOpen:r,children:[Object(I.jsx)(N,{zIndex:25,left:"",right:0,isOpen:s,onClick:function(){return l(!s)},children:s?"X":"|||"}),Object(I.jsx)(B,{flexWrap:"wrap",zIndex:20,isOpen:s,bg:"gray"}),Object(I.jsx)(Y,{to:"/rythm",onClick:d,children:"Riddm"}),Object(I.jsx)(Y,{to:"/grid-goon",onClick:d,children:"Grid Goon"})]})]})}Y.defaultProps={padding:5,m:3};var J,Q=F.default.div(K||(K=Object(z.a)(["\n  ","\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.hideScrollbar?X:""}),_.f,_.d,_.c,_.b,_.e,_.a);Q.defaultProps={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1};var V,$=F.default.div(J||(J=Object(z.a)(["\n    display: grid;\n    direction: ",";\n    grid-gap: 5px;\n    height: 100vw;\n    width: 100%;\n    grid-template-columns: repeat(",", 1fr);\n    grid-template-rows: repeat(",", 1fr);\n    ",";\n    ",";\n"])),(function(e){return e.reverse?"rtl":""}),4,4,_.c,_.d);$.defaultProps={padding:[2,4],maxHeight:["100vh","70vh"],maxWidth:["100vh","70vh"]};var Z=F.default.button(V||(V=Object(z.a)(["\n    height: 100%;\n    transition: all 0.15s;\n    border: 1px solid;\n    background-color: ",";\n    border-radius: ",";\n    ",";\n    ","\n"])),(function(e){return e.isTouched?"black":"transparent"}),(function(e){return e.isTouched?"50%":"5%"}),M,_.b);function ee(e){var n=e.voice,t=e.note,r=e.octave,o=Object(a.useState)(!1),c=Object(b.a)(o,2),i=c[0],s=c[1],l=function(e){e.preventDefault(),s(!0),n.triggerAttack(t+r,T.g())},d=function(e){e.preventDefault(),s(!1),n.triggerRelease(T.g())};return Object(I.jsx)(Z,{isTouched:i,onMouseDown:l,onMouseUp:d,onTouchStart:l,onTouchEnd:d,children:t+r})}function ne(){return Object(I.jsx)(Q,{height:"100%",children:Object(I.jsx)($,{children:p.map((function(e){var n="3",t=f[e];return e>7&&(t=f[e-f.length],n="2"),Object(I.jsx)(ee,{voice:P,note:t,octave:n})}))})})}function te(){return Object(I.jsxs)(Q,{height:"100%",children:[Object(I.jsx)(Y,{to:"grid-goon",children:"Grid Goon"}),Object(I.jsx)(Y,{to:"rythm",children:"Riddm"})]})}var re=t(38);function oe(e){var n=e.step,t=L(),r=t.state,o=t.dispatch,c=r.triggeredSteps,i=r.activeStep;return Object(I.jsx)(Z,{onClick:function(){o({type:E,payload:Object(m.a)(Object(m.a)({},c),{},Object(re.a)({},n,!c[n]))})},isTouched:i===n,bg:c[n]?"salmon":"",children:n})}function ce(e){e.visible;var n=e.steps;e.oscillator,e.envelope,L().state;return Object(I.jsx)($,{reverse:!0,children:n.map((function(e){return Object(I.jsx)(oe,{step:e},e)}))})}var ie,ae=t(8),se=t.n(ae),le=t(16),de=t(18);function ue(){var e=T.f.position.toString();return e.slice(0,e.indexOf("."))}function be(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16n";T.f.scheduleRepeat((function(n){var t=ue();T.b.schedule((function(){e({type:k,payload:t}),console.log(t)}),n)}),n)}function pe(){return(pe=Object(le.a)(se.a.mark((function e(n){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("started"!==T.f.state){e.next=2;break}return e.abrupt("return",T.f.pause());case 2:return e.next=4,Object(de.c)();case 4:return be(n,"16n"),e.abrupt("return",T.f.start());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=F.default.button(ie||(ie=Object(z.a)(['\n  border: 1px solid;\n  border-radius: 4px;\n  font-weight: "200";\n  white-space: nowrap;\n  color: ',";\n  background-color: ",";\n  transform: ",";\n  transition: transform 0.25s ease-out, background-color 0.05s ease-in;\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isSelected?"white":"black"}),(function(e){return e.isSelected?"black":"white"}),(function(e){return e.isSelected?"scale(1.15)":""}),M,_.e,_.f,_.g,_.d);function he(){var e=L(),n=e.state,t=e.dispatch,r=function(e){return t({type:w,payload:e.currentTarget.name})},o=function(e){return n.selectedDrumSound===e};return Object(I.jsx)("header",{children:Object(I.jsxs)(Q,{hideScrollbar:!0,borderRightWidth:8,borderColor:"transparent",borderRightStyle:"solid",p:"0",maxWidth:"100vw",flexDirection:"row",overflowX:"scroll",justifyContent:"space-between",children:[Object(I.jsx)(fe,{isSelected:o(h),name:h,onClick:r,children:"Kick"}),Object(I.jsx)(fe,{isSelected:o(j),name:j,onClick:r,children:"Snare"}),Object(I.jsx)(fe,{isSelected:o(g),name:g,onClick:r,children:"Hi-Closed"}),Object(I.jsx)(fe,{isSelected:o(O),name:O,onClick:r,children:"Hi-Open"}),Object(I.jsx)(fe,{isSelected:o(x),name:x,onClick:r,children:"TomTom"})]})})}function je(){var e=L(),n=e.state,t=e.dispatch;return T.f.loop=n.isLooping,T.f.loopEnd=n.loopEnd,Object(I.jsxs)(Q,{justifyContent:"space-between",children:[Object(I.jsx)("h1",{children:"Rhythm!"}),Object(I.jsx)(fe,{type:"button",onClick:function(){return function(e){return pe.apply(this,arguments)}(t)},children:"started"!==T.f.state?"Play":"Pause"}),Object(I.jsx)(he,{}),Object(I.jsx)(ce,{envelope:R,oscillator:D,steps:n.steps,visible:!0})]})}fe.defaultProps={marginY:3,mx:2,padding:[2],paddingX:3,fontSize:3,type:"button"};var ge=F.default.div(_.e);function Oe(){return Object(I.jsxs)(d.c,{children:[Object(I.jsx)(d.a,{exact:!0,path:"/",children:Object(I.jsx)(te,{})}),Object(I.jsx)(d.a,{path:"/rythm",children:Object(I.jsx)(je,{})}),Object(I.jsx)(d.a,{path:"/grid-goon",children:Object(I.jsx)(ne,{})})]})}ge.defaultProps={position:"absolute",top:0,bottom:0,right:0,left:0};var xe=function(){return Object(I.jsx)(u.a,{basename:"/bungi-machine",children:Object(I.jsxs)(ge,{children:[Object(I.jsx)(q,{}),Object(I.jsx)(Oe,{})]})})},ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var we,Se=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,88)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),c(e),i(e)}))},ye=t(62),ke=Object(F.createGlobalStyle)(we||(we=Object(z.a)(["\n ","\n  :root,\n  html,\n  body {\n    margin: 0;\n    font-family: Arial;\n  }\n\n  * {\n      box-sizing: border-box;\n      -webkit-appearance: none;\n      text-decoration: none;\n\n  }\n\n  button {\n    background-color: transparent;\n  }\n"])),ye.normalize);l.a.render(Object(I.jsx)(a.StrictMode,{children:Object(I.jsxs)(G,{children:[Object(I.jsx)(ke,{}),Object(I.jsx)(xe,{})]})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bungi-machine",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/bungi-machine","/service-worker.js");ve?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):me(n,e)}))}}(),Se()}},[[87,1,2]]]);
//# sourceMappingURL=main.70614b16.chunk.js.map