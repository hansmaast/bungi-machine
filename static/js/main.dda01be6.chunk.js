(this.webpackJsonpbungi=this.webpackJsonpbungi||[]).push([[0],{87:function(e,t,n){"use strict";n.r(t);var r=n(14),a=n(57),c=n.n(a),i=n(28),o=n(51),s=n(17),l=n(7),d=n(26),u=Array.from(Array(16).keys()),b=["C","Db","Eb","F","Gb","G","Ab","Bb"].reverse(),p="KICK",j="SNARE",h="HIHAT",g="HIHAT_OPEN",f="TOM",O=["0:0:0","0:0:1","0:0:2","0:0:3","0:1:0","0:1:1","0:1:2","0:1:3","0:2:0","0:2:1","0:2:2","0:2:3","0:3:0","0:3:1","0:3:2","0:3:3"].reverse(),m={C1:n.p+"static/media/kick.e8c4f08a.mp3",D1:n.p+"static/media/snare.ebab59a2.mp3",E1:n.p+"static/media/hihat.0dbc2e7a.mp3",F1:n.p+"static/media/tom1.7e5272fb.mp3",G1:n.p+"static/media/tom2.95a22fde.mp3"},x={C1:n.p+"static/media/kick.5e338bd5.wav",D1:n.p+"static/media/snare.d3f48900.wav",E1:n.p+"static/media/hihat.64dc5aa4.wav",F1:n.p+"static/media/hihatOpen.643cdeb7.wav",G1:n.p+"static/media/tom.a23b661d.wav"},v={CR78:new d.f({urls:m}).toDestination(),TR808:new d.f({urls:x}).toDestination()};var S="SELECT_DRUMPRESET",k="SELECT_DRUM",w="SELECT_SYNTH",y="SET_MASTER_VOLUME",E="SET_TEMPO",T="SET_ACTIVE_STEP",C="SET_TRIGGERED_KICKS",R="SET_TRIGGERED_SNARES",A="SET_TRIGGERED_HIHATS",H="SET_TRIGGERED_OPEN_HIHATS",D="SET_TRIGGERED_TOMS",_="CLEAR_ALL",P="CLEAR_PATTERN",I="SAVE_PATTERN",L="LOAD_PATTERN";var G,F,W,N,K=function(e,t){switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{selectedSampler:t.payload});case k:return Object(l.a)(Object(l.a)({},e),{},{selectedDrumSound:t.payload});case w:return Object(l.a)(Object(l.a)({},e),{},{selectedSynthSound:t.payload});case y:return Object(l.a)(Object(l.a)({},e),{},{masterVolume:t.payload});case E:return Object(l.a)(Object(l.a)({},e),{},{tempo:t.payload});case T:return Object(l.a)(Object(l.a)({},e),{},{activeStep:t.payload});case C:return Object(l.a)(Object(l.a)({},e),{},{triggeredKicks:t.payload});case R:return Object(l.a)(Object(l.a)({},e),{},{triggeredSnares:t.payload});case A:return Object(l.a)(Object(l.a)({},e),{},{triggeredHiHats:t.payload});case H:return Object(l.a)(Object(l.a)({},e),{},{triggeredOpenHiHats:t.payload});case D:return Object(l.a)(Object(l.a)({},e),{},{triggeredToms:t.payload});case _:return Object(l.a)(Object(l.a)({},e),z);case P:return Object(l.a)(Object(l.a)({},e),function(e){switch(e){case p:return{triggeredKicks:{}};case j:return{triggeredSnares:{}};case h:return{triggeredHiHats:{}};case g:return{triggeredOpenHiHats:{}};case f:return{triggeredToms:{}};default:return{}}}(t.payload));case I:return function(e,t){var n=JSON.stringify(t,null,2);localStorage.setItem(e,n)}(t.payload,Object(l.a)(Object(l.a)({},e),{},{selectedSampler:null})),e;case L:var n=function(e){var t;if(e&&(t=localStorage.getItem(e)))return JSON.parse(t);throw new Error("".concat(e," is ").concat(t))}(t.payload);return Object(l.a)(Object(l.a)({},n),{},{selectedSampler:e.selectedSampler});default:return e}},M=n(13),z={triggeredKicks:{},triggeredSnares:{},triggeredHiHats:{},triggeredOpenHiHats:{},triggeredToms:{}},V=Object(l.a)(Object(l.a)({tempo:120,masterVolume:0,loopEnd:"1:0:0",isLooping:!0,note:"",steps:O,activeStep:null,selectedSampler:v.CR78,selectedDrumSound:p,selectedSynthSound:"SQURE"},z),{},{releaseInSeconds:.03}),U=Object(r.createContext)(V),X=U.Provider,Y=function(e){var t=e.children,n=Object(r.useReducer)(K,V),a=Object(s.a)(n,2),c=a[0],i=a[1];return d.h.bpm.value=c.tempo,d.h.loop=c.isLooping,d.h.loopEnd=c.loopEnd,d.b.set({volume:c.masterVolume}),Object(r.useEffect)((function(){c.triggeredKicks[c.activeStep]&&c.selectedSampler.triggerAttackRelease("C1",.5),c.triggeredSnares[c.activeStep]&&c.selectedSampler.triggerAttackRelease("D1",.5),c.triggeredHiHats[c.activeStep]&&c.selectedSampler.triggerAttackRelease("E1",.5),c.triggeredOpenHiHats[c.activeStep]&&c.selectedSampler.triggerAttackRelease("F1",.5),c.triggeredToms[c.activeStep]&&c.selectedSampler.triggerAttackRelease("G1",.5)}),[c.activeStep,c.triggeredSteps,c.selectedSampler]),Object(M.jsx)(X,{value:{state:c,dispatch:i},children:t})},B=function(){return Object(r.useContext)(U)},J=n(25),q=n(23),Q=n(20),$=Object(q.css)(G||(G=Object(J.a)(["\n -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome and Opera */\n"]))),Z=Object(q.css)(F||(F=Object(J.a)(["\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;  /* IE and Edge */\n  scrollbar-width: none;  /* Firefox */\n"]))),ee=q.default.button(W||(W=Object(J.a)(["\n  z-index: 10;\n  background-color: ",";;\n  color: ",";\n  border: 1px solid;\n  border-radius: 4px;\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isOpen?"black":"white"}),(function(e){return e.isOpen?"white":"black"}),$,Q.e,Q.f,Q.g,Q.d);ee.defaultProps={position:"fixed",top:0,left:0,marginY:3,marginX:[3,4,6],padding:[2],paddingX:3,fontSize:4};var te,ne=q.default.div(N||(N=Object(J.a)(["\n transform: ",";\n  background-color: black;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  transition: transform 0.1s ease-in-out;\n ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isOpen?"":"translateX(-100%)"}),Q.e,Q.f,Q.d,Q.b,Q.c);ne.defaultProps={position:"absolute",top:0,bottom:0,maxWidth:["100vw","50vw"]};var re,ae=Object(q.default)(o.b)(te||(te=Object(J.a)(["\n    background-color: black;\n    color: whitesmoke;\n    transition: all 0.2s ease-in-out;\n    &:focus, :hover {\n        transform: scale(1.2);\n        box-shadow: 0px 0px 30px 30px rgba(250,250,250, 0.4) inset, 0px 0px 20px 10px rgba(250, 250,250, 0.7);\n    };\n    ",";\n    ",";\n"])),Q.f,Q.b);function ce(){var e=B().dispatch,t=Object(r.useState)(!1),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),o=Object(s.a)(i,2),l=o[0],d=o[1],u=function(){e({type:T,payload:"YES"}),c(!a)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ee,{isOpen:a,onClick:u,children:a?"X":"O"}),Object(M.jsxs)(ne,{isOpen:a,children:[Object(M.jsx)(ee,{zIndex:25,left:"",right:0,isOpen:l,onClick:function(){return d(!l)},children:l?"X":"|||"}),Object(M.jsx)(ne,{flexWrap:"wrap",zIndex:20,isOpen:l,bg:"gray"}),Object(M.jsx)(ae,{to:"/rythm",onClick:u,children:"Riddm"}),Object(M.jsx)(ae,{to:"/grid-goon",onClick:u,children:"Grid Goon"})]})]})}ae.defaultProps={padding:5,m:3};var ie,oe=q.default.div(re||(re=Object(J.a)(["\n  ","\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.hideScrollbar?Z:""}),Q.f,Q.d,Q.c,Q.b,Q.e,Q.a);oe.defaultProps={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1};var se,le=q.default.div(ie||(ie=Object(J.a)(["\n    display: grid;\n    direction: ",";\n    grid-gap: 5px;\n    height: 100vw;\n    width: 100%;\n    grid-template-columns: repeat(",", 1fr);\n    grid-template-rows: repeat(",", 1fr);\n    ",";\n    ",";\n"])),(function(e){return e.reverse?"rtl":""}),4,4,Q.c,Q.d);le.defaultProps={padding:[2,4],maxHeight:["100vh","70vh"],maxWidth:["100vh","70vh"]};var de=q.default.button(se||(se=Object(J.a)(["\n    height: 100%;\n    transition: all 0.15s;\n    border: 1px solid;\n    background-color: ",";\n    border-radius: ",";\n    ",";\n    ","\n"])),(function(e){return e.isTouched?"black":"transparent"}),(function(e){return e.isTouched?"50%":"5%"}),$,Q.b);function ue(e){var t=e.voice,n=e.note,a=e.octave,c=Object(r.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=function(e){e.preventDefault(),l(!0),t.triggerAttack(n+a,d.i())},b=function(e){e.preventDefault(),l(!1),t.triggerRelease(d.i())};return Object(M.jsx)(de,{isTouched:o,onMouseDown:u,onMouseUp:b,onTouchStart:u,onTouchEnd:b,children:n+a})}var be,pe=new d.g({volume:-10,envelope:{attack:.01,release:.2,sustain:.5}}).toDestination();new d.e({frequency:60,type:"triangle9"}),new d.d({type:"white",volume:-10}),new d.a({attack:.01,decay:.3,sustain:.5,release:.5}).toDestination(),new d.a({attack:.01,decay:.2,sustain:1,release:.01}).toDestination();function je(){return Object(M.jsx)(oe,{height:"100%",children:Object(M.jsx)(le,{children:u.map((function(e){var t="3",n=b[e];return e>7&&(n=b[e-b.length],t="2"),Object(M.jsx)(ue,{voice:pe,note:n,octave:t})}))})})}function he(){return Object(M.jsxs)(oe,{height:"100%",children:[Object(M.jsx)(ae,{to:"grid-goon",children:"Grid Goon"}),Object(M.jsx)(ae,{to:"rythm",children:"Riddm"})]})}var ge=q.default.button(be||(be=Object(J.a)(['\n  border: 1px solid;\n  border-radius: 4px;\n  font-weight: "200";\n  white-space: nowrap;\n  color: ',";\n  background-color: ",";\n  transform: ",";\n  transition: transform 0.25s ease-out, background-color 0.05s ease-in;\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isSelected?"white":"black"}),(function(e){return e.isSelected?"black":"white"}),(function(e){return e.isSelected?"scale(1.15)":""}),$,Q.e,Q.f,Q.g,Q.d);function fe(){var e=B(),t=e.state,n=e.dispatch,r=function(e){return n({type:k,payload:e.currentTarget.name})},a=function(e){return t.selectedDrumSound===e};return Object(M.jsx)("header",{children:Object(M.jsxs)(oe,{hideScrollbar:!0,borderRightWidth:8,borderColor:"transparent",borderRightStyle:"solid",p:"0",maxWidth:"100vw",flexDirection:"row",overflowX:"scroll",justifyContent:"space-between",children:[Object(M.jsx)(ge,{isSelected:a(p),name:p,onClick:r,children:"Kick"}),Object(M.jsx)(ge,{isSelected:a(j),name:j,onClick:r,children:"Snare"}),Object(M.jsx)(ge,{isSelected:a(h),name:h,onClick:r,children:"Hi-Closed"}),Object(M.jsx)(ge,{isSelected:a(g),name:g,onClick:r,children:"Hi-Open"}),Object(M.jsx)(ge,{isSelected:a(f),name:f,onClick:r,children:"TomTom"})]})})}ge.defaultProps={marginY:3,mx:2,padding:[2],paddingX:3,fontSize:3,type:"button"};var Oe=n(38);function me(e){var t,n,r=e.step,a=B(),c=a.state,i=a.dispatch,o=c.activeStep;switch(c.selectedDrumSound){case p:t=C,n=c.triggeredKicks;break;case j:t=R,n=c.triggeredSnares;break;case h:t=A,n=c.triggeredHiHats;break;case g:t=H,n=c.triggeredOpenHiHats;break;case f:t=D,n=c.triggeredToms;break;default:t=C,n=c.triggeredKicks}return Object(M.jsx)(de,{onClick:function(){i({type:t,payload:Object(l.a)(Object(l.a)({},n),{},Object(Oe.a)({},r,!n[r]))})},isTouched:o===r,bg:n[r]?"salmon":"",children:r})}function xe(){var e=B().state;return Object(M.jsx)(le,{reverse:!0,children:e.steps.map((function(e){return Object(M.jsx)(me,{step:e},e)}))})}var ve,Se,ke,we,ye,Ee,Te=n(9),Ce=n.n(Te),Re=n(16),Ae=n(18);function He(){var e=d.h.position.toString();return e.slice(0,e.indexOf("."))}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16n";d.h.scheduleRepeat((function(t){var n=He();d.c.schedule((function(){e({type:T,payload:n})}),t)}),t)}function _e(){return(_e=Object(Re.a)(Ce.a.mark((function e(t){return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("started"!==d.h.state){e.next=2;break}return e.abrupt("return",d.h.pause());case 2:return e.next=4,Object(Ae.c)();case 4:return De(t,"16n"),e.abrupt("return",d.h.start());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=Object(q.css)(ve||(ve=Object(J.a)(["\n    border: 1px solid black;\n"]))),Ie=Object(q.css)(Se||(Se=Object(J.a)(["\n    border-radius: 4px;\n"]))),Le=Object(q.css)(ke||(ke=Object(J.a)(["\n    ","\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    transform: translateY(","%);\n    background: white;\n"])),Pe,24,24,-40),Ge=Object(q.css)(we||(we=Object(J.a)(["\n    background: black;\n    ","\n    height: ","px;\n"])),Ie,4.8),Fe=Object(q.css)(ye||(ye=Object(J.a)(["\n    &::-webkit-slider-runnable-track {\n        ",";\n    }\n    &::-moz-range-track {\n        ",";\n    }\n    &::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        ","\n    }\n    &::-moz-range-thumb {\n        ","\n    }\n    &:focus {\n        outline: none;\n    }\n"])),Ge,Ge,Le,Le),We=q.default.input(Ee||(Ee=Object(J.a)(["\n    ","    \n    ","\n    ",";\n    ",";\n    ",";\n"])),Ie,Pe,Fe,Q.f,Q.d);function Ne(){var e=B(),t=e.state,n=e.dispatch;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("label",{children:"Tempo"}),Object(M.jsx)(We,{id:"tempo","aria-label":"Tempo",type:"range",max:250,min:1,step:1,value:t.tempo,onChange:function(e){return n({type:E,payload:e.currentTarget.value})}})]})}function Ke(){var e=B(),t=e.state,n=e.dispatch;return Object(M.jsxs)(oe,{flexDirection:"row",children:[Object(M.jsx)(ge,{type:"button",onClick:function(){return n({type:_})},children:"CLEAR ALL"}),Object(M.jsx)(ge,{type:"button",onClick:function(){return n({type:P,payload:t.selectedDrumSound})},children:"CLEAR SELECTED"})]})}function Me(){var e=B(),t=e.state,n=e.dispatch;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("label",{children:"Volume"}),Object(M.jsx)(We,{id:"master-volume","aria-label":"master-volume",type:"range",max:20,min:-80,step:.1,value:t.masterVolume,onChange:function(e){return n({type:y,payload:e.currentTarget.value})}})]})}function ze(){var e=B().dispatch;return Object(M.jsxs)(oe,{flexDirection:"row",children:[Object(M.jsx)(ge,{onClick:function(){return e({type:S,payload:v.TR808})},children:"TR808"}),Object(M.jsx)(ge,{onClick:function(){return e({type:S,payload:v.CR78})},children:"CR78"})]})}function Ve(){var e=B().dispatch;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ge,{onClick:function(){return e({type:I,payload:"test-kit-2"})},children:"SAVE"}),Object(M.jsx)(ge,{onClick:function(){return e({type:L,payload:"test-kit-2"})},children:"LOAD"})]})}function Ue(){var e=B().dispatch;return Object(M.jsxs)(oe,{justifyContent:"space-between",children:[Object(M.jsx)("h1",{children:"Bungi"}),Object(M.jsx)(Ke,{}),Object(M.jsx)(ze,{}),Object(M.jsx)(Ne,{}),Object(M.jsx)(Me,{}),Object(M.jsx)(Ve,{}),Object(M.jsx)(ge,{onClick:function(){return function(e){return _e.apply(this,arguments)}(e)},children:"started"!==d.h.state?"Play":"Pause"}),Object(M.jsx)(fe,{}),Object(M.jsx)(xe,{})]})}We.defaultProps={margin:2,paddingX:3,paddingY:3,width:"100vw",maxWidth:400};var Xe=q.default.div(Q.e);function Ye(){return Object(M.jsxs)(i.c,{children:[Object(M.jsx)(i.a,{exact:!0,path:"/",children:Object(M.jsx)(he,{})}),Object(M.jsx)(i.a,{path:"/rythm",children:Object(M.jsx)(Ue,{})}),Object(M.jsx)(i.a,{path:"/grid-goon",children:Object(M.jsx)(je,{})})]})}Xe.defaultProps={position:"absolute",top:0,bottom:0,right:0,left:0};var Be=function(){return Object(M.jsx)(o.a,{basename:"/bungi-machine",children:Object(M.jsxs)(Xe,{children:[Object(M.jsx)(ce,{}),Object(M.jsx)(Ye,{})]})})},Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Qe,$e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Ze=n(62),et=Object(q.createGlobalStyle)(Qe||(Qe=Object(J.a)(["\n ","\n  :root,\n  html,\n  body {\n    margin: 0;\n    font-family: Arial;\n  }\n\n  * {\n      box-sizing: border-box;\n      -webkit-appearance: none;\n      text-decoration: none;\n\n  }\n\n  button {\n    background-color: transparent;\n  }\n"])),Ze.normalize);c.a.render(Object(M.jsx)(r.StrictMode,{children:Object(M.jsxs)(Y,{children:[Object(M.jsx)(et,{}),Object(M.jsx)(Be,{})]})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bungi-machine",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/bungi-machine","/service-worker.js");Je?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):qe(t,e)}))}}(),$e()}},[[87,1,2]]]);
//# sourceMappingURL=main.dda01be6.chunk.js.map