(this.webpackJsonpbungi=this.webpackJsonpbungi||[]).push([[0],{86:function(e,t,n){"use strict";n.r(t);var r,a,o,c=n(13),i=n(57),s=n.n(i),u=n(25),d=n(51),l=n(17),b=Array.from(Array(16).keys()),p=["C","Db","Eb","F","Gb","G","Ab","Bb"].reverse(),j=["0:0:0","0:0:1","0:0:2","0:0:3","0:1:0","0:1:1","0:1:2","0:1:3","0:2:0","0:2:1","0:2:2","0:2:3","0:3:0","0:3:1","0:3:2","0:3:3"].reverse(),f=n(9),h="SELECT_DRUM",O="SELECT_SYNTH",g="SET_TEMPO",x="SET_ACTIVE_STEP",v="SET_TRIGGERED_STEPS",m=function(e,t){switch(t.type){case h:return Object(f.a)(Object(f.a)({},e),{},{selectedDrumSound:t.payload});case O:return Object(f.a)(Object(f.a)({},e),{},{selectedSynthSound:t.payload});case g:return Object(f.a)(Object(f.a)({},e),{},{tempo:t.payload});case x:return Object(f.a)(Object(f.a)({},e),{},{activeStep:t.payload});case v:return Object(f.a)(Object(f.a)({},e),{},{triggeredSteps:t.payload});default:return e}},y=n(27),S=new y.e({volume:-10,envelope:{attack:.01,release:.2,sustain:.5}}).toDestination(),w=new y.d({frequency:60,type:"triangle9"}),k=(new y.c({type:"white",volume:-10}),new y.a({attack:.01,decay:.3,sustain:.5,release:.5}).toDestination()),E=(new y.a({attack:.01,decay:.2,sustain:1,release:.01}).toDestination(),n(16)),T={tempo:125,loopEnd:"1:0:0",isLooping:!0,note:"",steps:j,activeStep:null,selectedDrumSound:"KICK",selectedSynthSound:"SQURE",triggeredSteps:{},releaseInSeconds:.03},C=Object(c.createContext)(T),P=C.Provider,D=function(e){var t=e.children,n=Object(c.useReducer)(m,T),r=Object(l.a)(n,2),a=r[0],o=r[1];return Object(c.useEffect)((function(){a.triggeredSteps[a.activeStep]&&(w.connect(k).start(),k.triggerAttackRelease(a.releaseInSeconds))}),[a.activeStep,a.triggeredSteps]),Object(E.jsx)(P,{value:{state:a,dispatch:o},children:t})},I=function(){return Object(c.useContext)(C)},R=n(32),G=n(26),z=n(22),A=Object(G.css)(r||(r=Object(R.a)(["\n -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome and Opera */\n"]))),F=G.default.button(a||(a=Object(R.a)(["\n  z-index: 10;\n  background-color: ",";;\n  color: ",";\n  border: 1px solid;\n  border-radius: 4px;\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isOpen?"black":"white"}),(function(e){return e.isOpen?"white":"black"}),A,z.d,z.e,z.f,z.c);F.defaultProps={position:"fixed",top:0,left:0,marginY:3,marginX:[3,4,6],padding:[2],paddingX:3,fontSize:4};var L,_=G.default.div(o||(o=Object(R.a)(["\n transform: ",";\n  background-color: black;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  transition: transform 0.1s ease-in-out;\n ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(e){return e.isOpen?"":"translateX(-100%)"}),z.d,z.e,z.c,z.a,z.b);_.defaultProps={position:"absolute",top:0,bottom:0,maxWidth:["100vw","50vw"]};var M=Object(G.default)(d.b)(L||(L=Object(R.a)(["\n    background-color: black;\n    color: whitesmoke;\n    transition: all 0.2s ease-in-out;\n    &:focus, :hover {\n        transform: scale(1.2);\n        box-shadow: 0px 0px 30px 30px rgba(250,250,250, 0.4) inset, 0px 0px 20px 10px rgba(250, 250,250, 0.7);\n    };\n    ",";\n    ",";\n"])),z.e,z.a);function W(){var e=I().dispatch,t=Object(c.useState)(!1),n=Object(l.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],d=function(){e({type:x,payload:"YES"}),a(!r)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F,{isOpen:r,onClick:d,children:r?"X":"O"}),Object(E.jsxs)(_,{isOpen:r,children:[Object(E.jsx)(F,{zIndex:25,left:"",right:0,isOpen:s,onClick:function(){return u(!s)},children:s?"X":"|||"}),Object(E.jsx)(_,{flexWrap:"wrap",zIndex:20,isOpen:s,bg:"gray"}),Object(E.jsx)(M,{to:"/rythm",onClick:d,children:"Riddm"}),Object(E.jsx)(M,{to:"/grid-goon",onClick:d,children:"Grid Goon"})]})]})}M.defaultProps={padding:5,m:3};var X,B=G.default.div(z.e,z.c,z.b,z.a,z.d);B.defaultProps={height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexWrap:"wrap",p:1};var Y,H=G.default.div(X||(X=Object(R.a)(["\n    display: grid;\n    direction: ",";\n    grid-gap: 5px;\n    height: 100vw;\n    width: 100%;\n    grid-template-columns: repeat(",", 1fr);\n    grid-template-rows: repeat(",", 1fr);\n    ",";\n    ",";\n"])),(function(e){return e.reverse?"rtl":""}),4,4,z.b,z.c);H.defaultProps={padding:[2,4],maxHeight:["100vh","70vh"],maxWidth:["100vh","70vh"]};var K=G.default.button(Y||(Y=Object(R.a)(["\n    height: 100%;\n    transition: all 0.15s;\n    border: 1px solid;\n    background-color: ",";\n    border-radius: ",";\n    ",";\n    ","\n"])),(function(e){return e.isTouched?"black":"transparent"}),(function(e){return e.isTouched?"50%":"5%"}),A,z.a);function U(e){var t=e.voice,n=e.note,r=e.octave,a=Object(c.useState)(!1),o=Object(l.a)(a,2),i=o[0],s=o[1],u=function(e){e.preventDefault(),s(!0),t.triggerAttack(n+r,y.g())},d=function(e){e.preventDefault(),s(!1),t.triggerRelease(y.g())};return Object(E.jsx)(K,{isTouched:i,onMouseDown:u,onMouseUp:d,onTouchStart:u,onTouchEnd:d,children:n+r})}function q(){return Object(E.jsx)(B,{children:Object(E.jsx)(H,{children:b.map((function(e){var t="3",n=p[e];return e>7&&(n=p[e-p.length],t="2"),Object(E.jsx)(U,{voice:S,note:n,octave:t})}))})})}function J(){return Object(E.jsxs)(B,{children:[Object(E.jsx)(M,{to:"grid-goon",children:"Grid Goon"}),Object(E.jsx)(M,{to:"rythm",children:"Riddm"})]})}var N=n(38);function Q(e){var t=e.step,n=I(),r=n.state,a=n.dispatch,o=r.triggeredSteps,c=r.activeStep;return Object(E.jsx)(K,{onClick:function(){a({type:v,payload:Object(f.a)(Object(f.a)({},o),{},Object(N.a)({},t,!o[t]))})},isTouched:c===t,bg:o[t]?"salmon":"",children:t})}function V(e){e.visible;var t=e.steps;e.oscillator,e.envelope,I().state;return Object(E.jsx)(H,{reverse:!0,children:t.map((function(e){return Object(E.jsx)(Q,{step:e},e)}))})}var $,Z=n(8),ee=n.n(Z),te=n(15),ne=n(18);function re(){var e=y.f.position.toString();return e.slice(0,e.indexOf("."))}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16n";y.f.scheduleRepeat((function(t){var n=re();y.b.schedule((function(){e({type:x,payload:n}),console.log(n)}),t)}),t)}function oe(){return(oe=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("started"!==y.f.state){e.next=2;break}return e.abrupt("return",y.f.pause());case 2:return e.next=4,Object(ne.c)();case 4:return ae(t,"16n"),e.abrupt("return",y.f.start());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=G.default.button($||($=Object(R.a)(['\n  border: 1px solid;\n  border-radius: 4px;\n  font-weight: "200";\n  ',";\n  ",";\n  ",";\n  ",";\n  ",";\n"])),A,z.d,z.e,z.f,z.c);function ie(){var e=I(),t=e.state,n=e.dispatch;return y.f.loop=t.isLooping,y.f.loopEnd=t.loopEnd,Object(E.jsxs)(B,{justifyContent:"space-between",children:[Object(E.jsx)("h1",{children:"Rhythm!"}),Object(E.jsx)(ce,{type:"button",onClick:function(){return function(e){return oe.apply(this,arguments)}(n)},children:"started"!==y.f.state?"Play":"Pause"}),Object(E.jsx)(V,{envelope:k,oscillator:w,steps:t.steps,visible:!0})]})}ce.defaultProps={marginY:3,padding:[2],paddingX:3,fontSize:3};var se=G.default.div(z.d);function ue(){return Object(E.jsxs)(u.c,{children:[Object(E.jsx)(u.a,{exact:!0,path:"/",children:Object(E.jsx)(J,{})}),Object(E.jsx)(u.a,{path:"/rythm",children:Object(E.jsx)(ie,{})}),Object(E.jsx)(u.a,{path:"/grid-goon",children:Object(E.jsx)(q,{})})]})}se.defaultProps={position:"absolute",top:0,bottom:0,right:0,left:0};var de=function(){return Object(E.jsx)(d.a,{basename:"/bungi-machine",children:Object(E.jsxs)(se,{children:[Object(E.jsx)(W,{}),Object(E.jsx)(ue,{})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le,be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},pe=n(61),je=Object(G.createGlobalStyle)(le||(le=Object(R.a)(["\n ","\n  :root,\n  html,\n  body {\n    margin: 0;\n    font-family: Arial;\n  }\n\n  * {\n      box-sizing: border-box;\n      -webkit-appearance: none;\n      text-decoration: none;\n\n  }\n\n  button {\n    background-color: transparent;\n  }\n"])),pe.normalize);s.a.render(Object(E.jsx)(c.StrictMode,{children:Object(E.jsxs)(D,{children:[Object(E.jsx)(je,{}),Object(E.jsx)(de,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),be()}},[[86,1,2]]]);
//# sourceMappingURL=main.57b47441.chunk.js.map